/*!
 * crosscover v0.3.0
 * Carousel of a simple background image using jquery and animate.css.
 * http://git.blivesta.com/crosscover
 * License : MIT
 * Author : blivesta <enmt@blivesta.com> (http://blivesta.com/)
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var a="crosscover",n={init:function(s){return s=t.extend({animateInClass:"fade-in",animateOutClass:"fade-out",interval:5e3,startIndex:0,autoPlay:!0,controller:!0,controllerClass:"crosscover-controller",prevClass:"crosscover-prev",nextClass:"crosscover-next",playerClass:"crosscover-player",playerActiveClass:"is-playing",playerInnerHtml:'<span class="crosscover-icon-player"></span>',prevInnerHtml:'<span class="crosscover-icon-prev"></span>',nextInnerHtml:'<span class="crosscover-icon-next"></span>'},s),n.settings={currentIndex:s.startIndex,timer:null},this.each(function(){var r=this,e=t(this),o=e.data(a),l=e.children(".crosscover-list").children("li");o||(s=t.extend({},s),e.data(a,{options:s}),s.controller&&n.createControler.call(r,l),n.setup.call(r,l))})},setup:function(s){{var r=this,e=t(this);e.data(a).options}return s.each(function(a){var n=t(this),s=n.find("img").attr("src");n.addClass("crosscover-setup").css({"background-image":"url("+s+")"})}),n.slideStart.call(r,s)},slideStart:function(t){var a=this;n.autoPlayStart.call(a,t),n.show.call(a,t)},createControler:function(s){var r=this,e=t(this),o=e.data(a).options,l=o.autoPlay?o.playerActiveClass:null;return e.append(t("<div>").attr({"data-crosscover-controls":""}).addClass(o.controllerClass).append(t("<button>").attr({"data-crosscover-prev":""}).addClass(o.prevClass).html(o.prevInnerHtml)).append(t("<button>").attr({"data-crosscover-player":""}).addClass(o.playerClass).addClass(l).html(o.playerInnerHtml)).append(t("<button>").attr({"data-crosscover-next":""}).addClass(o.nextClass).html(o.nextInnerHtml))),n.addControler.call(r,s)},addControler:function(s){var r=this,e=t(this),o=(e.data(a).options,e.children("[data-crosscover-controls]")),l=o.children("[data-crosscover-prev]"),i=o.children("[data-crosscover-next]"),c=o.children("[data-crosscover-player]");c.on("click."+a,function(a){return t(this).blur(),n.playToggle.call(r,s,t(this))}),l.on("click."+a,function(a){return t(this).blur(),n.toggle.call(r,s,"prev")}),i.on("click."+a,function(a){return t(this).blur(),n.toggle.call(r,s,"next")})},playToggle:function(s){var r=this,e=t(this),o=e.data(a).options,l=e.find("[data-crosscover-player]");return o.autoPlay?(o.autoPlay=!1,l.removeClass(o.playerActiveClass).addClass(o.playClass),n.autoPlayStop.call(r)):(o.autoPlay=!0,l.addClass(o.playerActiveClass),n.autoPlayStart.call(r,s))},toggle:function(s,r){{var e=this,o=t(this);o.data(a).options}return n.hide.call(e,s),"next"===r?n.settings.currentIndex++:"prev"===r&&n.settings.currentIndex--,n.settings.currentIndex>=s.length?n.settings.currentIndex=0:n.settings.currentIndex<=-1&&(n.settings.currentIndex=s.length-1),n.autoPlayStart.call(e,s),n.show.call(e,s)},show:function(s){var r=t(this),e=r.data(a).options;return s.eq(n.settings.currentIndex).addClass("crosscover-active").removeClass("crosscover-setup").addClass(e.animateInClass).csscallbacks("animationEnd",function(){t(this).addClass("crosscover-active")})},hide:function(s){var r=t(this),e=r.data(a).options;return s.eq(n.settings.currentIndex).addClass("crosscover-setup").removeClass("crosscover-active").addClass(e.animateOutClass).csscallbacks("animationEnd",function(){t(this).removeClass().addClass("crosscover-setup")})},autoPlayStart:function(s){var r=this,e=t(this),o=e.data(a).options;return o.autoPlay&&(n.autoPlayStop.call(r),n.settings.timer=setTimeout(function(){n.toggle.call(r,s,"next"),n.autoPlayStart.call(r,s)},o.interval)),r},autoPlayStop:function(){return clearTimeout(n.settings.timer)},currentIndex:function(){return n.settings.currentIndex}};t.fn.crosscover=function(s){return n[s]?n[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void t.error("Method "+s+" does not exist on jQuery."+a):n.init.apply(this,arguments)},t.fn.csscallbacks=function(a,n){var s="animationstart webkitAnimationStart oAnimationStart",r="animationend webkitAnimationEnd oAnimationEnd",e="transitionend webkitTransitionEnd oTransitionEnd";return"animationStart"===a?a=s:"animationEnd"===a?a=r:"transitionStart"===a?a=_transitionStart:"transitionEnd"===a&&(a=e),this.each(function(s){var r=t(this);r.on(a,function(){return r.off(a),n.call(this)})})}});