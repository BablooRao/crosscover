/*!
 * crosscover v0.2.0
 * Carousel of a simple background image using jquery and animate.css.
 * http://git.blivesta.com/crosscover
 * License : MIT
 * Author : blivesta <enmt@blivesta.com> (http://blivesta.com/)
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e="crosscover",s={init:function(a){return a=t.extend({animateInClass:"fade-in",animateOutClass:"fade-out",interval:5e3,startIndex:0,autoPlay:!0,controller:!0,controllerClass:"crosscover-controller",prevClass:"crosscover-prev",nextClass:"crosscover-next",playerClass:"crosscover-player",playerActiveClass:"is-playing",playerInnerHtml:'<span class="crosscover-icon-player"></span>',prevInnerHtml:'<span class="crosscover-icon-prev"></span>',nextInnerHtml:'<span class="crosscover-icon-next"></span>'},a),s.settings={currentIndex:a.startIndex,timer:null},this.each(function(){var r=this,n=t(this),o=n.data(e),l=n.children(".crosscover-list").children("li");o||(a=t.extend({},a),n.data(e,{options:a}),a.controller&&s.createControler.call(r,l),s.setup.call(r,l))})},setup:function(a){{var r=this,n=t(this);n.data(e).options}return a.each(function(e){var s=t(this),a=s.find("img").attr("src");s.addClass("crosscover-setup").css({"background-image":"url("+a+")"})}),s.slideStart.call(r,a)},slideStart:function(t){var e=this;s.autoPlayStart.call(e,t),s.show.call(e,t)},createControler:function(a){var r=this,n=t(this),o=n.data(e).options,l=o.autoPlay?o.playerActiveClass:null;return n.append(t("<div>").attr({"data-crosscover-controls":""}).addClass(o.controllerClass).append(t("<button>").attr({"data-crosscover-prev":""}).addClass(o.prevClass).html(o.prevInnerHtml)).append(t("<button>").attr({"data-crosscover-player":""}).addClass(o.playerClass).addClass(l).html(o.playerInnerHtml)).append(t("<button>").attr({"data-crosscover-next":""}).addClass(o.nextClass).html(o.nextInnerHtml))),s.addControler.call(r,a)},addControler:function(a){var r=this,n=t(this),o=(n.data(e).options,n.children("[data-crosscover-controls]")),l=o.children("[data-crosscover-prev]"),c=o.children("[data-crosscover-next]"),i=o.children("[data-crosscover-player]");i.on("click."+e,function(e){return t(this).blur(),s.playToggle.call(r,a,t(this))}),l.on("click."+e,function(e){return t(this).blur(),s.toggle.call(r,a,"prev")}),c.on("click."+e,function(e){return t(this).blur(),s.toggle.call(r,a,"next")})},playToggle:function(a){var r=this,n=t(this),o=n.data(e).options,l=n.find("[data-crosscover-player]");return o.autoPlay?(o.autoPlay=!1,l.removeClass(o.playerActiveClass).addClass(o.playClass),s.autoPlayStop.call(r)):(o.autoPlay=!0,l.addClass(o.playerActiveClass),s.autoPlayStart.call(r,a))},toggle:function(a,r){{var n=this,o=t(this);o.data(e).options}return s.hide.call(n,a),"next"===r?s.settings.currentIndex++:"prev"===r&&s.settings.currentIndex--,s.settings.currentIndex>=a.length?s.settings.currentIndex=0:s.settings.currentIndex<=-1&&(s.settings.currentIndex=a.length-1),s.autoPlayStart.call(n,a),s.show.call(n,a)},show:function(a){var r=t(this),n=r.data(e).options;return a.eq(s.settings.currentIndex).addClass("crosscover-active").removeClass("crosscover-setup").addClass(n.animateInClass).on("animationend",function(){t(this).addClass("crosscover-active")})},hide:function(a){var r=t(this),n=r.data(e).options;return a.eq(s.settings.currentIndex).addClass("crosscover-setup").removeClass("crosscover-active").addClass(n.animateOutClass).on("animationend",function(){t(this).removeClass().addClass("crosscover-setup")})},autoPlayStart:function(a){var r=this,n=t(this),o=n.data(e).options;return o.autoPlay&&(s.autoPlayStop.call(r),s.settings.timer=setTimeout(function(){s.toggle.call(r,a,"next"),s.autoPlayStart.call(r,a)},o.interval)),r},autoPlayStop:function(){return clearTimeout(s.settings.timer)},currentIndex:function(){return s.settings.currentIndex}};t.fn.crosscover=function(a){return s[a]?s[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void t.error("Method "+a+" does not exist on jQuery."+e):s.init.apply(this,arguments)}});