/*!
 * crosscover v0.0.0
 * Carousel of a simple background image using jquery and animate.css.
 * http://git.blivesta.com/crosscover
 * License : MIT
 * Author : Yasuyuki Enomoto <enmt@blivesta.com> (http://blivesta.com/)
 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var t="crosscover",s=null,n=null,e=null,l={init:function(n){return n=a.extend({animateInClass:"fade-in",animateOutClass:"fade-out",interval:2e3,startIndex:0,autoPlay:!0,controles:!0,controlesClass:"crosscover-controls",prevClass:"crosscover-prev",nextClass:"crosscover-next",playerClass:"crosscover-player",playerActiveClass:"is-playing"},n),s=n.autoPlay,n.controles&&l.addControler.call(this,n),this.each(function(){var o=this,r=a(this),i=r.data(t),c=r.children(".crosscover-list").children("li"),u=r.children("."+n.controlesClass),d=u.children("."+n.prevClass),p=u.children("."+n.nextClass),v=u.children("."+n.playerClass);e=n.startIndex,i||(n=a.extend({},n),r.data(t,{options:n}),l.setup.call(o,c),v.on("click."+t,function(a){l.pauseToggle.call(o,c,a)}),d.on("click."+t,function(){return s&&l.autoPlayStart.call(o,c),l.toggle.call(o,c,"prev")}),p.on("click."+t,function(){return s&&l.autoPlayStart.call(o,c),l.toggle.call(o,c,"next")}))})},addControler:function(t){var n=a(this),e=s?t.playerActiveClass:null;n.append(a("<div>").addClass(t.controlesClass).append(a("<span>").addClass(t.prevClass)).append(a("<span>").addClass(t.playerClass).addClass(e)).append(a("<span>").addClass(t.nextClass)))},setup:function(s){var n=this,o=a(this),r=o.data(t).options;return s.each(function(t){var s=a(this);s.css("background-image","url("+s.find("img").attr("src")+")")}),s.eq(e).addClass("crosscover-active").addClass(r.animateInClass),l.autoPlayStart.call(n,s)},pauseToggle:function(n,e){var o=this,r=a(this),i=r.data(t).options,c=a(e.target);return s?(s=!1,c.removeClass(i.playerActiveClass).addClass(i.playClass),l.autoPlayStop.call(o)):(s=!0,c.addClass(i.playerActiveClass),l.autoPlayStart.call(o,n))},toggle:function(a,t){var s=this,n=a.eq(e);"next"===t?(e=e<a.length-1?e++:-1,e++):"prev"===t&&(e=e>-1?e--:a.length-1,e--);var o=a.eq(e);l.animate.call(s,n,o)},animate:function(s,n){var e=a(this),l=e.data(t).options;s.removeClass().addClass(l.animateOutClass).animateCallback(function(){a(this).removeClass()}),n.addClass(l.animateInClass).addClass("crosscover-active").animateCallback(function(){a(this).hasClass("crosscover-active")||a(this).addClass("crosscover-active")})},currentIndex:function(){return e},autoPlayStart:function(e){var o=this,r=a(this),i=r.data(t).options;s&&(clearTimeout(n),n=setTimeout(function(){l.toggle.call(o,e,"next"),l.autoPlayStart.call(o,e)},i.interval))},autoPlayStop:function(){return s=!1,clearTimeout(n)},destroy:function(){return this.each(function(){var s=a(this);a(window).unbind("."+t),s.css({opacity:1}).removeData(t)})}};a.fn.animateCallback=function(t){var s="animationend webkitAnimationEnd mozAnimationEnd oAnimationEnd MSAnimationEnd";return this.each(function(){var n=a(this);n.bind(s,function(){return n.unbind(s),t.call(this)})})},a.fn.crosscover=function(s){return l[s]?l[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof s&&s?void a.error("Method "+s+" does not exist on jQuery."+t):l.init.apply(this,arguments)}});